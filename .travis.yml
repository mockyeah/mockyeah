language: node_js
node_js:
  - "node"
  - "lts/*"
  - "8"
script:
  - ./packages/mockyeah-tools/node_modules/.bin/prettier --check $(git ls-files | grep -E '.(js|json|md)$')
  # skip if only changes to docs or READMEs
  - git diff --name-only master...$TRAVIS_BRANCH | grep -v mockyeah-docs | grep -v README.md || travis_terminate 0
  - npm run test:ci
after_success:
  - npm run test:coverage:report
